[View code on GitHub](https://github.com/mrgnlabs/mrgn-ts/.autodoc/docs/json/packages/marginfi-client-v2/examples)

The `mrgn-ts` project is a TypeScript library that provides a high-level interface for interacting with the Marginfi protocol on the Solana blockchain. The `examples` folder contains code examples that demonstrate how to use the `MarginfiClient` and `MarginfiAccount` classes to interact with the Marginfi protocol.

The `account-balances.ts` file demonstrates how to use the `MarginfiClient` and `MarginfiAccount` classes to fetch data from the Marginfi protocol and to lend and borrow assets. The code creates a connection to the Solana blockchain's devnet, fetches the configuration for the Marginfi protocol, and creates a `MarginfiClient` instance. The `MarginfiClient` instance is used to fetch all program account addresses for the Marginfi protocol's `MarginfiGroup` account type. The program account addresses are logged to the console.

The code then creates a new `MarginfiAccount` instance by calling the `createMarginfiAccount()` method on the `MarginfiClient` instance. The `MarginfiAccount` instance is used to interact with the Marginfi protocol's lending and borrowing functionality. The code then retrieves the `group` property from the `MarginfiAccount` instance and uses it to retrieve two banks, one for SOL and one for USDC. The code then deposits 1 SOL and 2 USDC into the respective banks using the `deposit()` method on the `MarginfiAccount` instance. The `reload()` method is then called on the `MarginfiAccount` instance to update the account's balances.

Finally, the code logs the balances of the `MarginfiAccount` instance to the console. The `activeBalances` property of the `MarginfiAccount` instance is an array of `MarginfiBalance` instances, which represent the balances of the account across all banks. The `getUsdValue()` method is called on each `MarginfiBalance` instance to convert the balance to its USD value. The USD value is then logged to the console along with the bank's mint address and the bank's public key.

Developers can use this code as a starting point for building applications that interact with the Marginfi protocol. They can use the `MarginfiClient` and `MarginfiAccount` classes to fetch data from the protocol and to lend and borrow assets. For example, a developer could modify the code to deposit and withdraw different amounts of assets or to interact with different MarginfiGroup accounts and banks.

The `account-health.ts` file demonstrates how to fetch data from a Marginfi account and log it to the console. The code creates a connection to the Solana blockchain, fetches the configuration for the MarginfiClient, and initializes the MarginfiClient instance. The code then fetches all program account addresses for the MarginfiGroup account type and logs them to the console.

The code then fetches a MarginfiAccount instance using the fetch function from the MarginfiAccount class and gets the MarginfiGroup instance from it. The script then gets two banks from the group using the getBankByLabel function from the MarginfiGroup class. Finally, the script gets the health components of the Marginfi account using the getHealthComponents function from the MarginfiAccount class and logs them to the console.

Developers can use this code as an example of how to fetch data from a Marginfi account and log it to the console. They can modify the code to fetch different types of data or to interact with different MarginfiGroup accounts and banks.

The `index.ts` file demonstrates how to perform deposit and withdrawal operations on a MarginfiGroup account using the `MarginfiClient` and `MarginfiAccount` classes. The code creates a connection to the Solana devnet, fetches the configuration for the dev environment, and initializes the MarginfiClient instance. The code then calls the getAllProgramAccountAddresses function on the MarginfiClient instance to retrieve all the program addresses associated with MarginfiGroup accounts and logs them to the console.

The code then fetches a MarginfiAccount instance using the fetch function from the MarginfiAccount class and gets the MarginfiGroup instance from it. The script then gets two banks from the group using the getBankByLabel function from the MarginfiGroup class. The code then performs a deposit operation on the MarginfiAccount instance and logs the resulting signature to the console. The code then reloads the MarginfiAccount instance and performs a withdrawal operation on it, logging the resulting signature to the console.

Developers can use this code as an example of how to perform deposit and withdrawal operations on MarginfiGroup accounts. They can modify the code to work with different MarginfiGroup accounts and banks by changing the public key and bank labels passed to the MarginfiAccount.fetch and MarginfiAccount.getBankByLabel functions, respectively.
